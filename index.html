<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<style>
		img {
			max-width: 100%;
		}
		.roulet * {
			box-sizing: border-box;
		}
		.roulet__form,
		.roulet__col {
			position: relative;
			width: 500px;
			height: 650px;
			transition: all 2s;
		}
		body {
			display: flex;
			justify-content: center;
			align-items: center;
		}
		.roulet__wrap {
			position: relative;
		}
		.roulet__empty {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			transition: opacity 1s;
			border-radius: 50%;
			overflow: hidden;
		}
		.slow__rotation {
			animation: slow-rotation 10s linear infinite;
		}
		@keyframes slow-rotation {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
        
        .fast-clockwise {
            animation: fast-clockwise 3s cubic-bezier(.52,-0.6,.12,.98);
        }
        
        @keyframes fast-clockwise {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(720deg);
            }
        }
        .fade {
        	opacity: 0;
        }
        .btn {
        	background-color: rgb(33, 110, 52);
        	color: #fff;
        	display: block;
        	margin-left: auto;
        	margin-right: auto;
        	width: 300px;
        	padding: 18px;
        	border-radius: 4px;
        	border: none;
        	margin-top: 16px;
        	cursor: pointer;
        }
        .roulet {
        	display: flex;
        	font-family: sans-serif;
        	gap: 10px;
        }
        .roulet__wrap,
        .roulet__empty {
        	width: 500px;
        	height: 500px;
        }
        .roulet__title {
        	text-align: center;
        	font-size: 32px;
        }
        .roulet__desc {
        	font-size: 18px;
        	margin-top: 16px;
        	text-align: center;
        	margin-bottom: 32px;
        }
        .input__wrap {
        	display: block;
        	width: 100%;
        	margin-top: 8px;
        }
        .input__wrap input {
        	border: 1px solid #ddd;
        	padding: 10px;
        	border-radius: 4px;
        	width: 300px;
        	display: block;
        	margin-left: auto;
        	margin-right: auto;
        	font-size: 16px;
        }
        .roulet__form {
        	display: flex;
        	align-items: center;
        	flex-direction: column;
        	justify-content: center;
        }
        .roulet__col {
        	position: relative;
        	left: 255px;
        	z-index: 2;
        	background-color: #fff;
        	display: flex;
        	align-items: center;
        }
        .roulet__form {
        	left: -255px;
        	z-index: 1;
        }
        .roulet__outer {
        	position: relative;
        	display: flex;
        	flex-direction: column;
        	justify-content: center;
        	align-items: center;
        }
        .logo {
        	position: absolute;
        	z-index: 2;
        	left: calc(50% - 32px);
        	top: calc(50% - 64px);
        	width: 64px;
        	height: 64px;
        	background-color: #fff;
        	border-radius: 50%;
        	border: 1px solid #0a0;
        	animation: slow-rotation 15s linear infinite;
        }
        
        @media screen and (max-width: 1100px) {
        	.roulet__form,
			.roulet__col {
				width: 300px;
			}
			.roulet__col {
				left: 155px;
			}
			.roulet__form {
	        	left: -155px;
	        }
	        .roulet__wrap,
	        .roulet__empty {
	        	width: 300px;
	        	height: 300px;
	        }
        }
        @media screen and (max-width: 768px) {
        	.roulet {
        		flex-wrap: wrap;
        		height: 500px;
        		transition: all 2s;
        	}
        	.roulet__form,
        	.roulet__col {
        		width: 100%;
        	}
        	.roulet__col {
        		justify-content: center;
				left: 0;
				height: 430px;
			}
			.roulet__form {
	        	left: 0;
	        	height: auto;
	        	top: -430px;
	        }
	        .roulet--end {
	        	height: 670px;
	        }
        }
        .roulet__default {
        	left: 0;
        	top: 0;
        }
        .hide {
        	opacity: 0;
        	visibility: hidden;
        }
        .triangle {
		   display: inline-block;
		      width: 0;
		      height: 0;
		      border-style: solid;
		    border-width: 50px 86.6px 50px 0px;
		    border-color: transparent #198A37 transparent transparent;
		    position: absolute;
		    right: -40px;
		    top: calc(50% - 81px);
		}

	</style>	
</head>
<body>
	<div class="roulet">
		<div class="roulet__col">
			<div class="roulet__outer">
				<div class="roulet__wrap">
					<img src="./win1.png" alt="">
				</div>
				<div class="roulet__empty slow__rotation" id="rotating-image">
					<img src="./empty.png" alt="">
				</div>
				<div class="logo">
					<img src="./logo.png" alt="">
				</div>
				<div class="triangle"></div>
				<button id="spin-button" class="btn">Крутить колесо</button>
			</div>
		</div>
		<div class="roulet__form">
			<div class="roulet__title">ВЫИГРАЙТЕ ОДИН <br> ИЗ ПРИЗОВ</div>
			<div class="roulet__desc">Введите свои контактные данные, вращайте <br> колесо и получите подарок</div>
			<form action="" class="form">
				<label for="" class="input__wrap">
					<input type="text" placeholder="Ваше имя">
				</label>
				<label for="" class="input__wrap">
					<input type="text" placeholder="+7 (999) 999-99-99">
				</label>
				<label for="" class="input__wrap">
					<input type="text" placeholder="Ваш E-mail">
				</label>
				<button class="btn">Получить подарок</button>
			</form>
		</div>
	</div>
	<script>
        const image = document.getElementById('rotating-image');
        const spinButton = document.getElementById('spin-button');
        const giftSpin = document.querySelector('.roulet__wrap img');
        
        spinButton.addEventListener('click', function() {
            const randomNumber = Math.floor(Math.random() * 100) + 1;
            image.classList.remove('slow__rotation');
            image.classList.add('fast-clockwise');
            spinButton.classList.add('hide');
            const activeGift = chance.find(item => {
            	return randomNumber >= item.min && randomNumber <= item.max
            })


            giftSpin.setAttribute('src', activeGift.img)
            // Через 500 мс (после завершения первой анимации) удаляем первый класс
            // и добавляем класс для вращения против часовой стрелки
            setTimeout(() => {
                image.classList.remove('fast-clockwise');
                image.classList.add('fade');

                document.querySelector('.roulet__col').classList.add('roulet__default');
                document.querySelector('.roulet__form').classList.add('roulet__default');
                document.querySelector('.roulet').classList.add('roulet--end');
            }, 3000);
        });

        let chance = [
        	{
        		img: './win2.png',
        		min: 1,
        		max: 10,
        		name: 'Скидка 5%',
        	},{
        		img: './win3.png',
        		min: 11,
        		max: 46,
        		name: 'Скидка 7%',
        	},{
        		img: './win4.png',
        		min: 47,
        		max: 67,
        		name: 'Скидка 10%',
        	},{
        		img: './win5.png',
        		min: 68,
        		max: 73,
        		name: 'Парафин ног',
        	},{
        		img: './win6.png',
        		min: 74,
        		max: 79,
        		name: 'Парафин рук',
        	},{
        		img: './win7.png',
        		min: 80,
        		max: 85,
        		name: 'Массаж лица',
        	},{
        		img: './win8.png',
        		min: 86,
        		max: 90,
        		name: 'Уход за лицом',
        	},{
        		img: './win9.png',
        		min: 91,
        		max: 100,
        		name: 'Серитификат на 500',
        	}
        ];
    </script>

</body>
</html>